'use strict';var _slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h['return']&&h['return']()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();(function(a,b){if(!(a.document&&a.location&&a.alert&&a.setInterval))throw new Error('[SVGTextWrap] Browser not detected');var c=function(b,c){var d=a.document.createElement('canvas').getContext('2d');return d.font=b+'px '+c,d},d=function(a,b){return Math.floor(2*a/b)},e=function(a,b,c,d){var e=function(a,b){return a.measureText(b).width},f=function(a,c,d){return a+' '+Array(c.length).fill(c).map(function(a,b){return a.substr(0,c.length-b-2)+'\u2026'}).slice(0,-2).filter(function(a){return e(b,a)<d}).shift()},g=function(b){return 2*Math.sqrt(a.radius*a.radius-b*b)},h=function(b,c){var d=b/2,e=(1+c-d)*a.lineHeight,f=c<d?e-a.lineHeight:e,h=g(f);return{rule:e,remainingWidth:h,text:''}},i=function(a){return 0===a.filter(function(a){return 0===a.text.length}).length},j=function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',g=e(b,' '+c[d]);return d>=c.length||g>a?[d,a,f]:(f=f+' '+c[d],a-=g,j(a,d+1,f))},k=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(e===a){if(d<c.length){var m=b[a-1];m.text=f(m.text,c[d],m.remainingWidth)}return{chords:b,wordsConsumed:d}}var g=h(a,e),i=j(g.remainingWidth,d),l=_slicedToArray(i,3);return d=l[0],g.remainingWidth=l[1],g.text=l[2],b.push(g),k(a,b,d,e+1)},l=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(a>=d)return b;var e=k(a),f=e.chords,g=e.wordsConsumed;return i(f)&&(b=f),g>=c.length?b:l(a+1,b)};return l},f=function(a){return Object.assign({splitter:function splitter(a){return a.split(' ')},fontSize:10,fontName:'sans-serif',lineHeight:12,radius:40},a)};'undefined'!=typeof a&&(a.hasOwnProperty(b)&&(a['@__'+b+'__']=a[b],a[b]=void 0),a[b]=function main(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if('string'!=typeof a)throw new Error('[SVGTextWrap] [TypeMismatch] Label must be a string.');var g=f(b),h=g.splitter.call(null,a),i=c(g.fontSize,g.fontName),j=d(g.radius,g.fontSize),k=e(g,i,h,j);return k()})})(window,'SVGTextWrap');
